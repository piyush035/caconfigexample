This is the example code I created for my tutorial on Sling Context Aware Configuration.

You can find the overview page for this tutorial at https://cqdump.wordpress.com/sling-context-aware-configuration/